<!-- src/App.vue -->
<template>
  <div class="app-container">
    <main class="main">
      <!-- Шапка приложения -->
      <AppHeader @openSettings="isSettingsOpen = true" />

      <!-- Основной контент -->
      <RouterView />

      <!-- Модальное окно настроек -->
      <SettingsModal :isOpen="isSettingsOpen" @close="isSettingsOpen = false" />
    </main>
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue';
import { RouterView } from 'vue-router';
import { useSettingsStore } from './stores/settingsStore';
import AppHeader from './components/AppHeader.vue';
import SettingsModal from './components/SettingsModal.vue';

// Подключаем stores
const settingsStore = useSettingsStore();

// Состояние модалки
const isSettingsOpen = ref(false);

onMounted(() => {
  settingsStore.loadSettings();
  console.log('⚙️ Настройки загружены!');
});
</script>

<style scoped>
/* Базовые стили для приложения */
.app-container {
  min-height: 100vh;
  width: 100%;
  display: flex;
  flex-direction: column;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  font-family: 'Segoe UI', Tahoma, sans-serif;
}
.main {
  flex: 1;
  width: 100%;
  margin: 0 auto;
}
/* Скроллбар */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: #f1f1f1;
}

::-webkit-scrollbar-thumb {
  background: #cbd5e0;
  border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
  background: #a0aec0;
}
</style>
